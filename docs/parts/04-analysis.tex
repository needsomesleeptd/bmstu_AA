\chapter{Аналитическая часть}
В данной части работы будет рассмотрен математическое обоснование
вычисление расстояния Левенштейна и Дамерау---Левенштейна.

\section{Расстояние Левенштейна.}


Расстояние Левенштейна (редакционное расстояние, дистанция редактирования) --- метрика, измеряющая разность между двумя последовательностями символов \cite{levenshtein}.

Вводятся операции нескольких типов:
\begin{enumerate}
	\item I (англ. insert) --- операция вставки символа;
	\item D (англ. delete) --- операция удаления символа;
	\item R (англ.replace) --- операция замены символа.
\end{enumerate}
Также введем символ $\lambda$, обозначающий пустой символ строки, не входящий ни в одну из рассматриваемых строк.

Будем считать стоимость каждой вышеизложенной операции равной~1:
\begin{itemize}[label=---]
	\item $D(a, b) = 1$, $a \neq b$, в противном случае замена не происходит;
	\item $D(\lambda, b) = 1$;
	\item $D(a, \lambda) = 1$.
\end{itemize}


Также обозначим совпадение символов как M (англ. match), таким образом $D(a,a) = 0$.
Существует  проблема взаимного выравнивания строк, в случае когда строки различной длины существует множество способов сопоставить соответствующие символы.

Решим проблему введением рекуррентной формулы, обозначим:
\begin{enumerate}
	\item $L1$ --- длина $S_{1}$;
	\item $L2$ --- длина $S_{2}$;
	\item $S_{1}[1...i]$ --- подстрока $S_{1}$ длиной $i$, начиная с первого символа;
	\item $S_{2}[1...j]$ --- подстрока $S_{2}$ длиной $j$, начиная с первого символа;
\end{enumerate}



Расстояние Левенштейна между двумя строками $S_{1}$ и $S_{2}$ длиной $M$ и $N$ соответственно рассчитывается по рекуррентной формуле (\ref{eq:lev}).
\small
\begin{equation}
	\label{eq:lev}
	D(S_{1}[1..i],S_{2}[1..j]) = 
	\begin{cases}
		\begin{array}{ll}
			\max(i,j), & \textrm{$\mbox{если }\min(i,j) = 0,$}\\
			\min(D(S_{1}[1..i], S_{2}[1.. j - 1])+1,\\
			\qquad D(S_{1}[1..i - 1], S_{2}[1..j]) + 1, &\textrm{$\mbox{иначе},$}\\
			\qquad D(S_{1}[1..i - 1], S_{2}[1..j - 1]) +\\
			\qquad + m(S_{1}[i],S_{2}[j])),
		\end{array}
	\end{cases}
\end{equation}
где сравнение символов строк $S_{1}$ и $S_{2}$ рассчитывается как:
\small
\begin{equation}
	\label{eq:m}
	m(a, b) = \begin{cases}
		0, &\text{если a = b,}\\
		1, &\text{иначе.}
	\end{cases}
\end{equation}


Обозначим результат подсчета расстояния Левенштейна для подстрок $S_{1}[1..i],S_{2}[1..j]$ как 
$Lev(S_{1}[1..i],S_{2}[1..j])$.





В расстоянии Дамерау---Левенштейна вводится еще одна операция, обозначим ее как $S$ (англ. swap), данная операция применима, только  если $S_{1}[i] = S_{2}[j - 1]$
и $S_{1}[i - 1] = S_{2}[j]$. Рекуррентная формула  данной метрики выглядит следующим образом:
\small
\begin{equation}
	\label{eq:DL}
	D(S_{1}[1..i],S_{2}[1..j]) = 
	\begin{cases}
		min \begin{cases}
			Lev(S_{1}[1..i],S_{2}[1..j]),\\
			D(S_{1}[1..i - 2],S_{2}[1..j - 2]) + 1, \\
		\end{cases}
		& \begin{aligned}
			& \text{если i > 1, j > 1}, \\
			& S_{1}[i] = S_{2}[j - 1], \\
			& S_{1}[i - 1] = S_{2}[j], \\
		\end{aligned}\\
		Lev(S_{1}[1..i],S_{2}[1..j])
		 & \text{иначе.}
	\end{cases}
\end{equation}

Идея в том, что после замены пары символов местами, полученные пары были поэлементно равны друг другу.

\textbf{Вывод}

В данном разделе были рассмотрены цели и задачи работы, а также введены необходимые обозначения для поиска расстояний Левенштейна и Дамерау---Левенштейна
и выведены рекуррентные отношения для поиска их значения.

